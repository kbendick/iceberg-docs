<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=author content><title></title><link href=https://iceberg.apache.org//css/bootstrap.css rel=stylesheet><link href=https://iceberg.apache.org//css/landing-page.css rel=stylesheet><link href=https://iceberg.apache.org//css/markdown.css rel=stylesheet><link href=https://iceberg.apache.org//css/katex.min.css rel=stylesheet><link rel=stylesheet href=https://iceberg.apache.org//css/pricing.css><link href=https://iceberg.apache.org//font-awesome-4.7.0/css/font-awesome.min.css rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel=stylesheet type=text/css><link href=https://iceberg.apache.org//css/termynal.css rel=stylesheet></head><body><head><link href=https://iceberg.apache.org//css/markdown.css rel=stylesheet><link href=https://iceberg.apache.org//css/katex.min.css rel=stylesheet><script>function addAnchor(e){e.insertAdjacentHTML("beforeend",`<a href="#${e.id}" class="anchortag" ariaLabel="Anchor"> ðŸ”— </a>`)}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("h1[id], h2[id], h3[id], h4[id]");e&&e.forEach(addAnchor)})</script></head><nav class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class="navbar-header page-scroll"><button type=button class=navbar-toggle data-toggle=collapse data-target=#bs-example-navbar-collapse-1>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class="page-scroll navbar-brand" href=https://iceberg.apache.org/><img class=top-navbar-logo src=https://iceberg.apache.org//img/iceberg-logo-icon.png> Apache Iceberg</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav navbar-right"><li><a class=page-scroll href=https://iceberg.apache.org/docs/latest>Docs</a></li><li><a class=page-scroll href=https://iceberg.apache.org/docs/latest/getting-started/>Spark</a></li><li><a class=page-scroll href=https://iceberg.apache.org/docs/latest/flink/>Flink</a></li><li><a class=page-scroll href=https://trino.io/docs/current/connector/iceberg.html target=_blank>Trino</a></li><li><a class=page-scroll href=https://prestodb.io/docs/current/connector/iceberg.html target=_blank>Presto</a></li><li><a class=page-scroll href=https://iceberg.apache.org/releases>Releases</a></li><li><a class=page-scroll href=https://iceberg.apache.org/roadmap>Roadmap</a></li><li><a class=page-scroll href=https://iceberg.apache.org/community>Community</a></li><li><a class=page-scroll href=https://iceberg.apache.org/blogs>Blogs</a></li><li><a class=page-scroll href=https://iceberg.apache.org/talks>Talks</a></li></ul></div></div></nav><div class=pad-for-navbar></div><body dir=" ltr"><div class=grid-container><div class=markdown-body><h1 id=contributing>Contributing</h1><p>In this page, you will find some guidelines on contributing to Apache Iceberg. Please keep in mind that none of
these are hard rules and they&rsquo;re meant as a collection of helpful suggestions to make contributing as seamless of an
experience as possible.</p><p>If you are thinking of contributing but first would like to discuss the change you wish to make, we welcome you to
head over to the <a href=https://iceberg.apache.org/community/>Community</a> page on the official Iceberg documentation site
to find a number of ways to connect with the community, including slack and our mailing lists. Of course, always feel
free to just open a <a href=https://github.com/apache/iceberg/issues/new>new issue</a> in the GitHub repo.</p><p>The Iceberg Project is hosted on GitHub at <a href=https://github.com/apache/iceberg>https://github.com/apache/iceberg</a>.</p><h2 id=pull-request-process>Pull Request Process</h2><p>The Iceberg community prefers to receive contributions as <a href=https://help.github.com/articles/about-pull-requests/>Github pull requests</a>.</p><p><a href=https://github.com/apache/iceberg/pulls>View open pull requests</a></p><ul><li>PRs are automatically labeled based on the content by our github-actions labeling action</li><li>It&rsquo;s helpful to include a prefix in the summary that provides context to PR reviewers, such as <code>Build:</code>, <code>Docs:</code>, <code>Spark:</code>, <code>Flink:</code>, <code>Core:</code>, <code>API:</code></li><li>If a PR is related to an issue, adding <code>Closes #1234</code> in the PR description will automatically close the issue and helps keep the project clean</li><li>If a PR is posted for visibility and isn&rsquo;t necessarily ready for review or merging, be sure to convert the PR to a draft</li></ul><h2 id=building-the-project-locally>Building the Project Locally</h2><p>Iceberg is built using Gradle with Java 8 or Java 11.</p><ul><li>To invoke a build and run tests: <code>./gradlew build</code></li><li>To skip tests: <code>./gradlew build -x test -x integrationTest</code></li></ul><p>Iceberg table support is organized in library modules:</p><ul><li><code>iceberg-common</code> contains utility classes used in other modules</li><li><code>iceberg-api</code> contains the public Iceberg API</li><li><code>iceberg-core</code> contains implementations of the Iceberg API and support for Avro data files, <strong>this is what processing engines should depend on</strong></li><li><code>iceberg-parquet</code> is an optional module for working with tables backed by Parquet files</li><li><code>iceberg-arrow</code> is an optional module for reading Parquet into Arrow memory</li><li><code>iceberg-orc</code> is an optional module for working with tables backed by ORC files</li><li><code>iceberg-hive-metastore</code> is an implementation of Iceberg tables backed by the Hive metastore Thrift client</li><li><code>iceberg-data</code> is an optional module for working with tables directly from JVM applications</li></ul><p>This project Iceberg also has modules for adding Iceberg support to processing engines:</p><ul><li><code>iceberg-spark2</code> is an implementation of Spark&rsquo;s Datasource V2 API in 2.4 for Iceberg (use iceberg-spark-runtime for a shaded version)</li><li><code>iceberg-spark3</code> is an implementation of Spark&rsquo;s Datasource V2 API in 3.0 for Iceberg (use iceberg-spark3-runtime for a shaded version)</li><li><code>iceberg-flink</code> contains classes for integrating with Apache Flink (use iceberg-flink-runtime for a shaded version)</li><li><code>iceberg-mr</code> contains an InputFormat and other classes for integrating with Apache Hive</li><li><code>iceberg-pig</code> is an implementation of Pig&rsquo;s LoadFunc API for Iceberg</li></ul><h2 id=setting-up-ide-and-code-style>Setting up IDE and Code Style</h2><h3 id=configuring-code-formatter-for-intellij-idea>Configuring Code Formatter for IntelliJ IDEA</h3><p>In the <strong>Settings/Preferences</strong> dialog go to <strong>Editor > Code Style > Java</strong>. Click on the gear wheel and select <strong>Import Scheme</strong> to import IntelliJ IDEA XML code style settings.
Point to <a href=https://github.com/apache/iceberg/blob/master/.baseline/idea/intellij-java-palantir-style.xml>intellij-java-palantir-style.xml</a> and hit <strong>OK</strong> (you might need to enable <strong>Show Hidden Files and Directories</strong> in the dialog). The code itself can then be formatted via <strong>Code > Reformat Code</strong>.</p><p>See also the IntelliJ <a href=https://www.jetbrains.com/help/idea/copying-code-style-settings.html>Code Style docs</a> and <a href=https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html>Reformat Code docs</a> for additional details.</p><h2 id=iceberg-code-contribution-guidelines>Iceberg Code Contribution Guidelines</h2><h3 id=style>Style</h3><p>For Java styling, check out the section
<a href=https://iceberg.apache.org/community/#setting-up-ide-and-code-style>Setting up IDE and Code Style</a> from the
documentation site.</p><p>For Python, please use the tox command <code>tox -e format</code> to apply autoformatting to the project.</p><h3 id=java-style-guidelines>Java style guidelines</h3><h4 id=line-breaks>Line breaks</h4><p>Continuation indents are 2 indents (4 spaces) from the start of the previous line.</p><p>Try to break long lines at the same semantic level to make code more readable.</p><ul><li>Don&rsquo;t use the same level of indentation for arguments to different methods</li><li>Don&rsquo;t use the same level of indentation for arguments and chained methods</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>  <span style=color:#75715e>// BAD: hard to see arguments passed to the same method
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  doSomething<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> ArgumentClass<span style=color:#f92672>(</span>1<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>      2<span style=color:#f92672>),</span>
</span></span><span style=display:flex><span>      3<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// GOOD: break lines at the same semantic level
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  doSomething<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>new</span> ArgumentClass<span style=color:#f92672>(</span>1<span style=color:#f92672>,</span> 2<span style=color:#f92672>),</span>
</span></span><span style=display:flex><span>      3<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// BAD: arguments and chained methods mixed
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  SomeObject myNewObject <span style=color:#f92672>=</span> SomeObject<span style=color:#f92672>.</span><span style=color:#a6e22e>builder</span><span style=color:#f92672>(</span>schema<span style=color:#f92672>,</span> partitionSpec<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>      sortOrder<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>withProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;x&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// GOOD: method calls at the same level, arguments indented
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  SomeObject myNewObject <span style=color:#f92672>=</span> SomeObject
</span></span><span style=display:flex><span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>builder</span><span style=color:#f92672>(</span>schema<span style=color:#f92672>,</span> partitionSpec<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>          sortOrder<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>withProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;x&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>()</span>
</span></span></code></pre></div><h4 id=method-naming>Method naming</h4><ol><li>Make method names as short as possible, while being clear. Omit needless words.</li><li>Avoid <code>get</code> in method names, unless an object must be a Java bean.<ul><li>In most cases, replace <code>get</code> with a more specific verb that describes what is happening in the method, like <code>find</code> or <code>fetch</code>.</li><li>If there isn&rsquo;t a more specific verb or the method is a getter, omit <code>get</code> because it isn&rsquo;t helpful to readers and makes method names longer.</li></ul></li><li>Where possible, use words and conjugations that form correct sentences in English when read<ul><li>For example, <code>Transform.preservesOrder()</code> reads correctly in an if statement: <code>if (transform.preservesOrder()) { ... }</code></li></ul></li></ol><h4 id=boolean-arguments>Boolean arguments</h4><p>Avoid boolean arguments to methods that are not <code>private</code> to avoid confusing invocations like <code>sendMessage(false)</code>. It is better to create two methods with names and behavior, even if both are implemented by one internal method.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>  <span style=color:#75715e>// prefer exposing suppressFailure in method names
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendMessageIgnoreFailure</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    sendMessageInternal<span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendMessage</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    sendMessageInternal<span style=color:#f92672>(</span><span style=color:#66d9ef>false</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendMessageInternal</span><span style=color:#f92672>(</span><span style=color:#66d9ef>boolean</span> suppressFailure<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span></code></pre></div><p>When passing boolean arguments to existing or external methods, use inline comments to help the reader understand actions without an IDE.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>  <span style=color:#75715e>// BAD: it is not clear what false controls
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  dropTable<span style=color:#f92672>(</span>identifier<span style=color:#f92672>,</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// GOOD: these uses of dropTable are clear to the reader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  dropTable<span style=color:#f92672>(</span>identifier<span style=color:#f92672>,</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>/* purge data */</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  dropTable<span style=color:#f92672>(</span>identifier<span style=color:#f92672>,</span> purge<span style=color:#f92672>);</span>
</span></span></code></pre></div><h4 id=config-naming>Config naming</h4><ol><li>Use <code>-</code> to link words in one concept<ul><li>For example, preferred convection <code>access-key-id</code> rather than <code>access.key.id</code></li></ul></li><li>Use <code>.</code> to create a hierarchy of config groups<ul><li>For example, <code>s3</code> in <code>s3.access-key-id</code>, <code>s3.secret-access-key</code></li></ul></li></ol><h2 id=running-benchmarks>Running Benchmarks</h2><p>Some PRs/changesets might require running benchmarks to determine whether they are affecting the baseline performance. Currently there is
no &ldquo;push a single button to get a performance comparison&rdquo; solution available, therefore one has to run JMH performance tests on their local machine and
post the results on the PR.</p><p>See <a href=../benchmarks>Benchmarks</a> for a summary of available benchmarks and how to run them.</p><h2 id=website-and-documentation-updates>Website and Documentation Updates</h2><p>Currently, there is an <a href=https://github.com/apache/iceberg-docs>iceberg-docs</a> repository
which contains the HTML/CSS and other files needed for the <a href=https://iceberg.apache.org/>Iceberg website</a>.
The <a href=https://github.com/apache/iceberg/tree/master/docs>docs folder</a> in the Iceberg repository contains
the markdown content for the documentation site. All markdown changes should still be made
to this repository.</p><h3 id=submitting-pull-requests>Submitting Pull Requests</h3><p>Changes to the markdown contents should be submitted directly to this repository.</p><p>Changes to the website appearance (e.g. HTML, CSS changes) should be submitted to the <a href=https://github.com/apache/iceberg-docs>iceberg-docs repository</a> against the <code>main</code> branch.</p><p>Changes to the documentation of old Iceberg versions should be submitted to the <a href=https://github.com/apache/iceberg-docs>iceberg-docs repository</a> against the specific version branch.</p><h3 id=reporting-issues>Reporting Issues</h3><p>All issues related to the doc website should still be submitted to the <a href=https://github.com/apache/iceberg>Iceberg repository</a>.
The GitHub Issues feature of the <a href=https://github.com/apache/iceberg-docs>iceberg-docs repository</a> is disabled.</p><h3 id=running-locally>Running Locally</h3><p>Clone the <a href=https://github.com/apache/iceberg-docs>iceberg-docs</a> repository to run the website locally:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone git@github.com:apache/iceberg-docs.git
</span></span><span style=display:flex><span>cd iceberg-docs
</span></span></code></pre></div><p>To start the landing page site locally, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cd landing-page <span style=color:#f92672>&amp;&amp;</span> hugo serve
</span></span></code></pre></div><p>To start the documentation site locally, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cd docs <span style=color:#f92672>&amp;&amp;</span> hugo serve
</span></span></code></pre></div><p>If you would like to see how the latest website looks based on the documentation in the Iceberg repository, you can copy docs to the iceberg-docs repository by:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>rm -rf docs/content/docs
</span></span><span style=display:flex><span>rm -rf landing-page/content/common
</span></span><span style=display:flex><span>cp -r &lt;path to iceberg repo&gt;/docs/versioned docs/content/docs
</span></span><span style=display:flex><span>cp -r &lt;path to iceberg repo&gt;/docs/common landing-page/content/common
</span></span></code></pre></div></div></div></body></html>